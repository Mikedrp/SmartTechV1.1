@using PracticaSemanaIV.Client.Pages.Components
<div class="container">
    <div class="jumbotron">
        <EditForm Model="Actor" OnValidSubmit="OnValidSubmit">
            <DataAnnotationsValidator></DataAnnotationsValidator>
            @*Input Para el Nombre*@
            <div class="mb-3">
                <InputText class="form-control" @bind-Value="@Actor.Name" placeholder="Nombre Actor"></InputText>
                <ValidationMessage For="@(()=>Actor.Name)"></ValidationMessage>
            </div>
            @*Input Para la Fecha*@
            <div class="form-group row mb-3">
                <div class="col col-sm-8">
                   <InputDate class="form-control" @bind-Value="@Actor.BirthDate"></InputDate>
                   <ValidationMessage For="@(()=>Actor.BirthDate)"></ValidationMessage>
                </div>
            @*Input Cantidad de Creditos*@
                <div class="col-sm-4">
                    <InputNumber class="form-control" @bind-Value="@Actor.KnowCredits"></InputNumber>
                    <ValidationMessage For="@(()=>Actor.KnowCredits)"></ValidationMessage>
                </div>
            </div>
            @*Campo que permite el cargue de una foto*@
            <div class="form-group">
                <ImageComponent Label="photo" ImageSelected="ImageSelected" ImageURL="@imageURL" ></ImageComponent>
            </div>
            <div class="form-group">
                <button class="btn btn-success">Crear</button>

            </div>
            
            
        </EditForm>
    </div>
</div>
@code{
    string imageURL;
    [Parameter] public Actor Actor {get;set;}
    [Parameter] public EventCallback OnValidSubmit{get;set;}

    protected override void OnInitialized(){
        if (!string.IsNullOrEmpty(Actor.Photo))
        {
             imageURL = Actor.Photo;
             Actor.Photo = null;           
        }

    }
    private void ImageSelected(string imageB64){
        Actor.Photo = imageB64;
        imageURL = null;

    }
}